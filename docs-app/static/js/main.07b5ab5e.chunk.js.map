{"version":3,"sources":["firebase/firebase-config.js","types/types.js","actions/auth.js","hooks/useForm.js","components/auth/LoginScreen.js","routers/AuthRouter.js","routers/PrivateRoute.js","routers/PublicRoute.js","actions/employee.js","helpers/fileUpload.js","actions/exam.js","actions/user.js","components/ui/Navbar.js","components/ui/examenes/ExamenScreen.js","components/ui/DashBoardScreen.js","actions/ui.js","components/ui/modal/CalendarModal.js","components/employee/EditEmployeeScreen.js","components/ui/drop-down/DropDown.js","components/employee/CreateEmployeeScreen.js","actions/empresa.actions.js","components/empresa/CreateEmpresaScreen.js","components/empresa/EditEmpresaScreen.js","components/main/MvcAppScreen.js","routers/AppRouter.js","reducers/uiReducer.js","store/store.js","reducers/authReducer.js","reducers/userReducer.js","reducers/examReducer.js","reducers/employeeReducer.js","reducers/empresaReducer.js","MvcApp.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","db","firestore","types","login","logout","loadUserData","userLogout","getTrabajadoresIdEmpresa","trabajadoresLogout","crearTrabajadorEmpresa","trabajadorExist","getExamenesPorVencerPorIdEmpresa","getExamenesPorVencerTodasLasEmpresas","crearNuevoExamen","getExamenUrl","examenesLogout","getTodoExamenesTrabajadorID","uiOpenModal","uiCloseModal","crearNuevaEmpresa","getTodasLasEmpresas","uid","displayName","type","payload","useForm","initialState","useState","values","setValues","reset","newFormState","handleInputChange","target","name","value","LoginScreen","dispatch","useDispatch","email","password","formValues","className","onSubmit","e","preventDefault","auth","signInWithEmailAndPassword","then","user","catch","error","console","log","startLoginEmailPassword","id","placeholder","required","autoFocus","onChange","AuthRouter","exact","path","component","to","PrivateRoute","isAuthenticated","Component","rest","props","PublicRoute","startGetTrabajadoresIdEmpresa","idEmpresa","a","trabajadores","collection","where","get","snapTrabajadores","forEach","trabajador","push","data","fileUpload","file","formData","FormData","append","fetch","method","body","resp","ok","json","cloudResp","secure_url","startGetTodoExamenesTrabajadorID","idTrabajador","examenes","snap","examen","startGetExamenesPorVencerTodasLasEmpresas","someDate","Date","setDate","getDate","newDate","getTime","uploadingExamen","fileUrl","Navbar","nombre","useSelector","state","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","onClick","signOut","ExamenScreen","fechaCaducidad","url","nombreExamen","idUsuario","toLocaleDateString","href","rel","add","fechaDescarga","archivoDescargado","merge","err","startLogDescargas","DashBoardScreen","exam","style","cursor","color","scope","data-sortable","data-field","map","customStyles","content","top","left","right","bottom","marginRight","transform","now","moment","minutes","seconds","Modal","setAppElement","CalendarModal","modalOpen","ui","toDate","dateStart","setDateStart","titleValid","setTitleValid","setFormValues","isOpen","onRequestClose","contentLabel","overlayClassName","closeTimeoutMS","trim","length","autoComplete","display","examenFile","files","document","querySelector","click","marginTop","fechaCreacion","Swal","fire","EditEmployeeScreen","exist","setExist","datosTrabajador","setDatosTrabajador","datosExamenes","setDatosExamenes","trab","examenesIdTrabajador","buscar","tra","filter","employee","ex","marginBottom","DropDown","CreateEmployeeScreen","empresas","empr","idEmpleado","doc","set","startCrearTrabajadorEmpresa","defaultValue","empresa","startGetTodasLasEmpresas","empresasRef","startCrearNuevaEmpresa","CreateEmpresaScreen","event","EditEmpresaScreen","datosEmpresa","setDatosEmpresa","editable","setEditable","emp","exists","startUpdateEmpresa","readOnly","MvcAppScreen","isAdmin","useEffect","AppRouter","checking","setChecking","isLoggedIn","setIsLoggedIn","onAuthStateChanged","docRef","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducers","combineReducers","action","getExamsIdTrabajador","creado","store","createStore","applyMiddleware","thunk","MvcApp","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.07b5ab5e.chunk.js","sourcesContent":["import firebase from 'firebase/app'\nimport 'firebase/firestore';\nimport 'firebase/auth';\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyDUGKdITlmFd_OsNHsf_vRa1_9i5Y_m0NQ\",\n    authDomain: \"morevalue-f6170.firebaseapp.com\",\n    projectId: \"morevalue-f6170\",\n    storageBucket: \"morevalue-f6170.appspot.com\",\n    messagingSenderId: \"738327980225\",\n    appId: \"1:738327980225:web:f0e12eae6aca8b8f4fcc40\"\n  };\n  \nfirebase.initializeApp(firebaseConfig);\n\nconst db = firebase.firestore();\n\n\nexport {\n    db,\n    firebase\n}","export const types = {\n  login: \"[Auth] Login\",\n  logout: \"[Auth] Logout\",\n\n  //user types\n  //obtiene los datos del usuario de la BD\n  loadUserData: \"[User] Load Logged User Data\",\n  //Quita el usuario del state\n  userLogout: \"[User] Logout\",\n\n  //Trabajadores\n  getTrabajadoresIdEmpresa: \"[Emp] Get Trabajadores ID Empresa\",\n  trabajadoresLogout: \"[Emp] Limpiar Trabajadores\",\n  crearTrabajadorEmpresa: \"[Emp] Trabajador Creado\",\n  trabajadorExist: \"[Emp] Trabajador ya está en DB\",\n\n  //examenes\n  getExamenesPorVencerPorIdEmpresa: \"[Exam] Get Examenes por Vencer ID Empresa\",\n  getExamenesPorVencerTodasLasEmpresas: \"[Exam] Get Examenes por Vencer todas las Empresas\",\n  crearNuevoExamen: \"[Exam] Crear Nuevo Examen ID Trabajador\",\n  getExamenUrl: \"[Exam] Get Examen URL\",\n  examenesLogout: \"[Exam] Limpiar Examenes\",\n  getTodoExamenesTrabajadorID: \"[Exam] Examenes por idTrabajador\",\n  \n\n  //UI\n  uiOpenModal: \"[UI] Open Modal\",\n  uiCloseModal: \"[UI] Close Modal\",\n\n  //empresas\n  crearNuevaEmpresa: \"[EMP] Crear Nueva Empresa\",\n  getTodasLasEmpresas: \"[EMP] Get Todas Las Empresa\",\n};\n","// import Swal from \"sweetalert2\";\n\nimport { firebase, db } from \"../firebase/firebase-config\";\nimport { types } from \"../types/types\";\n\nexport const startLoginEmailPassword = (email, password) => {\n  return (dispatch) => {\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then(({ user }) => {\n        dispatch(login(user.uid, \"\"));\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n};\n\nexport const login = (uid, displayName) => ({\n  type: types.login,\n  payload: {\n    uid,\n    displayName,\n  },\n});\n\n//TODO: descomponer funcion\nexport const startRegisterWithEmailPasswordName = (\n  email,\n  password,\n  name,\n  rol,\n  empresa\n) => {\n  return (dispatch) => {\n    firebase\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then(async ({ user }) => {\n        await user.updateProfile({ displayName: name });\n\n        const userDatabase = {\n          isAdmin: rol === \"true\" ? true : false,\n          idEmpresa: empresa,\n          nombre: name,\n        };\n        //autologin:  después de crear, no se necesita acá\n        //dispatch(login(user.uid, user.displayName));\n        /**\n         * TODO: HACER DISPATCH QUE CREE EL USER EN LA BD\n         */\n\n        const doc = await db\n          .collection(\"usuarios\")\n          .doc(user.uid)\n          .set(userDatabase);\n        console.log(doc);\n      })\n      .catch((e) => {\n        console.log(e);\n        // Swal.fire(\"Error\", e.message, \"error\");\n      });\n  };\n};\n\nexport const startLogout = () => {\n  return async (dispatch) => {\n    await firebase.auth().signOut();\n    //borra datos de auth en state\n    dispatch(logout());\n    //borra datos de user en state\n  };\n};\n\nexport const logout = () => ({\n  type: types.logout,\n});\n","import { useState } from 'react';\n\n\nexport const useForm = ( initialState = {} ) => {\n    \n    const [values, setValues] = useState(initialState);\n\n    const reset = (newFormState = initialState) => {\n        setValues( newFormState );\n    }\n\n\n    const handleInputChange = ({ target }) => {\n\n        setValues({\n            ...values,\n            [ target.name ]: target.value\n        });\n\n    }\n\n    return [ values, handleInputChange, reset ];\n\n}","import React from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { startLoginEmailPassword } from \"../../actions/auth\";\nimport { useForm } from \"../../hooks/useForm\";\nimport \"./signin.css\";\n\nexport const LoginScreen = () => {\n  const dispatch = useDispatch();\n  const [formValues, handleInputChange] = useForm({\n    email: \"\",\n    password: \"\",\n  });\n\n  const { email, password } = formValues;\n\n  const handleLogin = (e) => {\n    e.preventDefault();\n    dispatch(startLoginEmailPassword(email, password));\n  };\n  return (\n    <div className=\"text-center\">\n      <main className=\"form-signin\">\n        <form onSubmit={handleLogin}>\n          <h1 className=\"h3 mb-3 fw-normal\">Ingreso Empresas</h1>\n          <input\n            type=\"email\"\n            id=\"email\"\n            name=\"email\"\n            className=\"form-control\"\n            placeholder=\"Correo Electrónico\"\n            required\n            autoFocus\n            onChange={handleInputChange}\n            value={email}\n          />\n          <input\n            type=\"password\"\n            id=\"password\"\n            name=\"password\"\n            className=\"form-control\"\n            placeholder=\"Contraseña\"\n            required\n            onChange={handleInputChange}\n            value={password}\n          />\n          <div className=\"checkbox mb-3\"></div>\n          <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\">\n            Ingresar\n          </button>\n        </form>\n      </main>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { Switch, Route, Redirect } from \"react-router-dom\";\nimport { LoginScreen } from \"../components/auth/LoginScreen\";\n\nexport const AuthRouter = () => {\n  return (\n    <div className=\"auth__main\">\n      <div className=\"auth__box-container\">\n        <Switch>\n          <Route exact path=\"/auth/login\" component={LoginScreen} />\n          <Redirect to=\"/auth/login\" />\n        </Switch>\n      </div>\n    </div>\n  );\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Route, Redirect } from 'react-router-dom';\n\n\nexport const PrivateRoute = ({\n    isAuthenticated,\n    component: Component,\n    ...rest\n}) => {\n\n    return (\n        <Route { ...rest }\n            component={ (props) => (\n                ( isAuthenticated )\n                    ? ( <Component { ...props } /> )\n                    : ( <Redirect to=\"/auth/login\" /> )\n            )}\n        \n        />\n    )\n}\n\nPrivateRoute.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    component: PropTypes.func.isRequired\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { Route, Redirect } from 'react-router-dom';\n\n\nexport const PublicRoute = ({\n    isAuthenticated,\n    component: Component,\n    ...rest\n}) => {\n\n    return (\n        <Route { ...rest }\n            component={ (props) => (\n                ( isAuthenticated )\n                    ? ( <Redirect to=\"/\" /> )\n                    : ( <Component { ...props } /> )\n            )}\n        \n        />\n    )\n}\n\nPublicRoute.propTypes = {\n    isAuthenticated: PropTypes.bool.isRequired,\n    component: PropTypes.func.isRequired\n}\n","import { db } from \"../firebase/firebase-config\";\nimport { types } from \"../types/types\";\n\nexport const startGetTrabajadoresIdEmpresa = (idEmpresa) => {\n  return async (dispatch) => {\n    const trabajadores = [];\n    db.collection(\"trabajadores\")\n      .where(\"idEmpresa\", \"==\", idEmpresa)\n      .get()\n      .then((snapTrabajadores) => {\n        snapTrabajadores.forEach((trabajador) => {\n          trabajadores.push({\n            id: trabajador.id,\n            ...trabajador.data(),\n          });\n        });\n        dispatch(getTrabajadoresIdEmpresa(trabajadores));\n      });\n  };\n};\n\nexport const getTrabajadoresIdEmpresa = (trabajadores) => ({\n  type: types.getTrabajadoresIdEmpresa,\n  payload: trabajadores,\n});\n\nexport const trabajadoresLogout = () => ({\n  type: types.trabajadoresLogout,\n});\n\nexport const startCrearTrabajadorEmpresa = (idEmpresa, idEmpleado, nombre) => {\n  return async (dispatch) => {\n    //crea usuario\n    db.collection(\"trabajadores\").doc(idEmpleado).set({\n      idEmpresa: idEmpresa,\n      nombre: nombre,\n    });\n    dispatch(crearTrabajadorEmpresa());\n    //actualizar la lista de usuarios de la empresa\n    dispatch(startGetTrabajadoresIdEmpresa(idEmpresa));\n  };\n};\n\nexport const crearTrabajadorEmpresa = () => ({\n  type: types.crearTrabajadorEmpresa,\n  payload: true,\n});\nexport const trabajadorExist = () => ({\n  type: types.crearTrabajadorEmpresa,\n  payload: false,\n});\n","export const fileUpload = async (file) => {\n  const cloudUrl = \"https://api.cloudinary.com/v1_1/dgoxdpdrc/upload\";\n  const formData = new FormData();\n  formData.append(\"upload_preset\", \"morevalue\");\n  formData.append(\"folder\", \"pdf\");\n  formData.append(\"file\", file);\n  try {\n    const resp = await fetch(cloudUrl, {\n      method: \"POST\",\n      body: formData,\n    });\n    if (resp.ok) {\n      const cloudResp = await resp.json();\n      return cloudResp.secure_url;\n    } else {\n      throw await resp.json();\n    }\n  } catch (error) {\n    console.log(error);\n  }\n};\n","import { db } from \"../firebase/firebase-config\";\nimport { fileUpload } from \"../helpers/fileUpload\";\nimport { types } from \"../types/types\";\n\n\n\n/**\n * TODO: Falta crear getExamenesPorIdTrabajador para mostrar en resumen trabajador\n */\n\n\n export const startGetTodoExamenesTrabajadorID = (idTrabajador) => {\n  const examenes = [];\n  return async (dispatch) => {\n    await db\n      .collection(\"examenes\")\n      .where(\"idTrabajador\", \"==\", idTrabajador)\n      .get()\n      .then((snap) => {\n        snap.forEach((examen) => {\n          examenes.push({\n            id: examen.id,\n            ...examen.data(),\n          })\n        }\n        );\n      });\n    dispatch(getTodoExamenesTrabajadorID(examenes));\n  };\n }\n\nexport const getTodoExamenesTrabajadorID = (examenes) =>({\n  type: types.getTodoExamenesTrabajadorID,\n  payload: examenes,\n})\n\nexport const startGetExamenesPorVencerTodasLasEmpresas = () => {\n  var someDate = new Date();\n  var numberOfDaysToAdd = 60;\n  someDate.setDate(someDate.getDate() + numberOfDaysToAdd);\n  const newDate = someDate.getTime();\n  const examenes = [];\n  return async (dispatch) => {\n    await db\n      .collection(\"examenes\")\n      .where(\"fechaCaducidad\", \"<=\", newDate)\n      .get()\n      .then((snap) => {\n        snap.forEach((examen) => {\n          examenes.push({\n            id: examen.id,\n            ...examen.data(),\n          })\n        }\n        );\n      });\n    dispatch(getExamenesPorVencerTodasLasEmpresas(examenes));\n  };\n}\n\nexport const getExamenesPorVencerTodasLasEmpresas = (examenes) => ({\n  type: types.getExamenesPorVencerTodasLasEmpresas,\n  payload: examenes,\n});\n\n\nexport const startGetExamenesPorVencerPorIdEmpresa = (idEmpresa) => {\n  var someDate = new Date();\n  var numberOfDaysToAdd = 60;\n  someDate.setDate(someDate.getDate() + numberOfDaysToAdd);\n  const newDate = someDate.getTime();\n  const examenes = [];\n  return async (dispatch) => {\n    await db\n      .collection(\"examenes\")\n      .where(\"idEmpresa\", \"==\", idEmpresa)\n      //Calcular fecha a 60 días (se creo un filtro en firestore tambien)\n      .where(\"fechaCaducidad\", \"<=\", newDate)\n      .get()\n      .then((snap) => {\n        snap.forEach((examen) =>\n          examenes.push({\n            id: examen.id,\n            ...examen.data(),\n          })\n        );\n      });\n    dispatch(getExamenesPorVencerPorIdEmpresa(examenes));\n  };\n};\n\nexport const getExamenesPorVencerPorIdEmpresa = (examenes) => ({\n  type: types.getExamenesPorVencerPorIdEmpresa,\n  payload: examenes,\n});\n\nexport const startCrearNuevoExamen = (examen) => {\n  return async (dispatch) => {\n    const examenRef = db.collection(\"examenes\");\n    //agredar Datos\n    examenRef\n      .add(examen)\n      .then((examen) => {\n        console.log(\"Agregado: \", examen.id);\n      })\n      .catch((error) => {\n        console.log(\"Error: \", error);\n      });\n    dispatch(crearNuevoExamen(examen));\n  };\n};\n\nexport const crearNuevoExamen = (examen) => ({\n  type: types.crearNuevoExamen,\n  payload: examen,\n});\n\nexport const startUploadingExamen = (examenFile) => {\n  return async (dispatch) => {\n    const fileUrl = await fileUpload(examenFile);\n    dispatch(uploadingExamen(fileUrl));\n  };\n};\n\nexport const uploadingExamen = (fileUrl) => ({\n  type: types.getExamenUrl,\n  payload: fileUrl,\n});\n\n\nexport const examenesLogout = () => ({\n  type: types.examenesLogout,\n});\n\nexport const startLogDescargas = (\n  idUsuario,\n  idEmpresa,\n  idTrabajador,\n  nombreExamen,\n  url\n) => {\n  return async () => {\n    await db\n      .collection(`registro/${idUsuario}/log`)\n      .add(\n        {\n          fechaDescarga: new Date().toLocaleDateString(),\n          id: idUsuario,\n          idEmpresa: idEmpresa,\n          idTrabajador: idTrabajador,\n          archivoDescargado: nombreExamen,\n          url: url,\n        },\n        { merge: true }\n      )\n      .then((ok) => {\n        console.log(\"Registro Ingresado: \", ok);\n      })\n      .catch((err) => {\n        console.log(\"Algo salió mal: \", err);\n      });\n  };\n};\n\n","// import Swal from \"sweetalert2\";\n\nimport { db } from \"../firebase/firebase-config\";\nimport { types } from \"../types/types\";\n\nexport const startLoadUserData = (uid) => {\n  return async (dispatch) => {\n    const docRef = db.collection(\"usuarios\").doc(uid);\n    await docRef\n      .get()\n      .then((doc) => {\n        if (doc.exists) {\n          // console.log(doc.data());\n          const user = {\n            ...doc.data(),\n          };\n          dispatch(loadUserData(user));\n        } else {\n          console.log(\"no existe\");\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  };\n};\n//carga los datos del usuario en el store\nexport const loadUserData = (user) => ({\n  type: types.loadUserData,\n  payload: user,\n});\n//limpia el store\nexport const userLogout = () => ({\n  type: types.userLogout,\n});\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLogout } from \"../../actions/auth\";\nimport { trabajadoresLogout } from \"../../actions/employee\";\nimport { examenesLogout } from \"../../actions/exam\";\nimport { userLogout } from \"../../actions/user\";\n\nexport const Navbar = () => {\n  //obtiene el nombre\n  const { nombre } = useSelector((state) => state.user);\n  const dispatch = useDispatch();\n\n  const handleLogout = () => {\n    dispatch(startLogout());\n    dispatch(userLogout());\n    dispatch(trabajadoresLogout());\n    dispatch(examenesLogout());\n  };\n\n  return (\n    <div>\n      <header className=\"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow\">\n        <div className=\"navbar-brand col-md-3 col-lg-2 me-0 px-3 nav-link\">\n          {nombre}\n        </div>\n        <button\n          className=\"navbar-toggler position-absolute d-md-none collapsed\"\n          type=\"button\"\n          data-bs-toggle=\"collapse\"\n          data-bs-target=\"#sidebarMenu\"\n          aria-controls=\"sidebarMenu\"\n          aria-expanded=\"false\"\n          aria-label=\"Toggle navigation\"\n        >\n          <span className=\"navbar-toggler-icon\">\n          </span>\n        </button>\n        <ul className=\"navbar-nav px-3\">\n          <li className=\"nav-item text-nowrap\">\n            <button className=\"btn nav-link\" onClick={handleLogout}>\n              Salir\n            </button>\n          </li>\n        </ul>\n      </header>\n    </div>\n  );\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startLogDescargas } from \"../../../actions/exam\";\nexport const ExamenScreen = ({ id, ...examen }) => {\n  const dispatch = useDispatch();\n  const { idEmpresa, idTrabajador, fechaCaducidad, url, nombreExamen } = examen;\n  const { nombre, idUsuario } = useSelector((state) => state.user);\n  const handleSearchEmployee = () => {\n    console.log(\"buscar employee\");\n    /**\n     * muestra la pantalla del empleado de acuerdo a su rut\n     */\n  };\n\n  const handleDownload = () => {\n    console.log(\n      \"archivo descargado: \" + nombreExamen + \"descargado por: \" + nombre\n    );\n    dispatch(\n      startLogDescargas(idUsuario, idEmpresa, idTrabajador, nombreExamen, url)\n    );\n  };\n\n  return (\n    <tr>\n      <td>{idEmpresa}</td>\n      <td onClick={handleSearchEmployee}>{idTrabajador}</td>\n      <td>{new Date(fechaCaducidad).toLocaleDateString()}</td>\n      <td>{nombreExamen}</td>\n\n      <td>\n        <a\n          className=\"data\"\n          href={url}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          onClick={handleDownload}\n        >\n          descargar\n        </a>\n      </td>\n    </tr>\n  );\n};\n","import React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startGetExamenesPorVencerPorIdEmpresa, startGetExamenesPorVencerTodasLasEmpresas } from \"../../actions/exam\";\nimport { ExamenScreen } from \"../ui/examenes/ExamenScreen\";\nexport const DashBoardScreen = () => {\n  const dispatch = useDispatch();\n  const { idEmpresa } = useSelector((state) => state.user);\n  const { examenes } = useSelector((state) => state.exam);\n  return (\n    <div>\n      <h1>Resumen:</h1>\n      <hr />\n      <h2>\n        Examenes por Vencer{\" \"}\n        <i\n          className=\"fas fa-sync fa-xs\"\n          style={{ cursor: \"pointer\", color: \"green\" }}\n          onClick={() => {\n            dispatch(startGetExamenesPorVencerTodasLasEmpresas());\n          }}\n        ></i>\n      </h2>\n      <table className='table'>\n\n        <thead>\n          <tr>\n            <th scope=\"col\" data-sortable=\"true\" data-field=\"id\">Rut Empresa</th>\n            <th scope=\"col\">Rut Trabajador</th>\n            <th scope=\"col\">Fecha Caducidad</th>\n            <th scope=\"col\">Nombre Examen</th>\n            <th scope=\"col\">Examen</th>\n          </tr>\n        </thead>\n        <tbody>\n          {examenes ? (\n            examenes.map((examen) => (\n              <ExamenScreen key={examen.id} {...examen} />\n            ))\n          ) : (\n              <>Loading...</>\n            )}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n","import { types } from \"../types/types\";\n\nexport const uiOpenModal = () => ({\n  type: types.uiOpenModal,\n  payload: true,\n});\nexport const uiCloseModal = () => ({\n  type: types.uiCloseModal,\n  payload: false,\n});\n\n","import moment from \"moment\";\nimport React, { useState } from \"react\";\nimport DateTimePicker from \"react-datetime-picker\";\nimport Modal from \"react-modal\";\nimport \"./modal.css\";\nimport Swal from \"sweetalert2\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { uiCloseModal } from \"../../../actions/ui\";\nimport { startCrearNuevoExamen, startGetTodoExamenesTrabajadorID } from \"../../../actions/exam\";\nimport { startUploadingExamen } from \"../../../actions/exam\";\n\nconst customStyles = {\n  content: {\n    top: \"50%\",\n    left: \"50%\",\n    right: \"auto\",\n    bottom: \"auto\",\n    marginRight: \"-50%\",\n    transform: \"translate(-50%, -50%)\",\n  },\n};\nconst now = moment().minutes(0).seconds(0);\nModal.setAppElement(\"#root\");\n\nexport const CalendarModal = ({ idTrabajador, idEmpresa }) => {\n  const dispatch = useDispatch();\n  const { modalOpen } = useSelector((state) => state.ui);\n  const { url } = useSelector((state) => state.exam);\n  const [dateStart, setDateStart] = useState(now.toDate());\n  const [titleValid, setTitleValid] = useState(true);\n  const [formValues, setFormValues] = useState({\n    nombreExamen: \"\",\n    fechaCaducidad: now.toDate(),\n  });\n  const { nombreExamen } = formValues;\n\n  const handleInputChange = ({ target }) => {\n    setFormValues({\n      ...formValues,\n      [target.name]: target.value,\n    });\n  };\n\n  const handleStartDateChange = (e) => {\n    setDateStart(e);\n    setFormValues({\n      ...formValues,\n      fechaCaducidad: e,\n    });\n  };\n\n  const handleSubmitForm = (e) => {\n    e.preventDefault();\n    if (nombreExamen.trim().length < 2) {\n      return setTitleValid(false);\n    }\n    setTitleValid(true);\n  };\n\n  const closeModal = () => {\n    dispatch(uiCloseModal());\n    // setIsOpen(false);\n  };\n\n  const handleNewExamen = () => {\n    dispatch(\n      startCrearNuevoExamen({\n        idTrabajador: idTrabajador,\n        idEmpresa: idEmpresa,\n        nombreExamen: nombreExamen,\n        fechaCaducidad: new Date(formValues.fechaCaducidad).getTime(),\n        fechaCreacion: new Date().getTime(),\n        url: url,\n      })\n    );\n    //carga de inmediato el nuevo examen\n    Swal.fire(\"Examen Creado con Éxito\", \"\", \"success\");\n    dispatch(uiCloseModal());\n    startGetTodoExamenesTrabajadorID(idTrabajador)\n  };\n\n  const handleFileChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      //si se adjuntó archivo, obtener la URL\n      dispatch(startUploadingExamen(file));\n    }\n  };\n\n  const handleArchivoExamenchange = () => {\n    document.querySelector(\"#fileSelector\").click();\n  };\n  //   closeModal();\n  return (\n    <Modal\n      isOpen={modalOpen}\n      //   onAfterOpen={afterOpenModal}\n      onRequestClose={closeModal}\n      style={customStyles}\n      contentLabel=\"Example Modal\"\n      className=\"modal\"\n      overlayClassName=\"modal-fondo\"\n      closeTimeoutMS={500}\n\n    >\n      <h1> Nuevo examen </h1>\n      <hr />\n      <form className=\"container\" onSubmit={handleSubmitForm}>\n        <div className=\"form-group\">\n          <label>Nombre</label>\n          <input\n            type=\"text\"\n            className={`form-control ${!titleValid && \"is-invalid\"}`}\n            placeholder=\"Nombre del examen\"\n            name=\"nombreExamen\"\n            autoComplete=\"off\"\n            value={nombreExamen}\n            onChange={handleInputChange}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Fecha Vencimiento</label>\n          <DateTimePicker\n            name=\"vencimiento\"\n            className=\"form-control\"\n            value={dateStart}\n            onChange={handleStartDateChange}\n            required\n          />\n        </div>\n        <div className=\"form-group\">\n          <label>Adjuntar Archivo</label>\n          <br />\n          <input\n            id=\"fileSelector\"\n            type=\"file\"\n            name=\"file\"\n            style={{ display: \"none\" }}\n            onChange={handleFileChange}\n            required\n          />\n          <button\n            className=\"btn btn-success\"\n            onClick={handleArchivoExamenchange}\n          >\n            Archivo Examen\n          </button>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn btn-outline-primary btn-block\"\n          style={{\n            marginTop: \"10px\",\n            display: `${url ? \"\" : \"none\"}`,\n          }}\n          onClick={handleNewExamen}\n        >\n          <i className=\"far fa-save\" style={{ cursor: \"pointer\" }}></i>\n          <span> Guardar</span>\n        </button>\n      </form>\n    </Modal>\n  );\n};\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useForm } from \"../../hooks/useForm\";\nimport Swal from \"sweetalert2\";\nimport { CalendarModal } from \"../ui/modal/CalendarModal\";\nimport { uiOpenModal } from \"../../actions/ui\";\nimport { ExamenScreen } from \"../ui/examenes/ExamenScreen\";\nimport { startGetTodoExamenesTrabajadorID } from \"../../actions/exam\";\n\nexport const EditEmployeeScreen = () => {\n  const dispatch = useDispatch();\n  const [formValues, handleInputChange, reset] = useForm({\n    idTrabajador: \"\",\n  });\n  const { idTrabajador } = formValues;\n  \n  dispatch(startGetTodoExamenesTrabajadorID(idTrabajador));\n  const [exist, setExist] = useState(false);\n  const [datosTrabajador, setDatosTrabajador] = useState([]);\n  const [datosExamenes, setDatosExamenes] = useState([]);\n  const { trabajadores } = useSelector((state) => state.trab);\n  const { examenesIdTrabajador } = useSelector((state) => state.exam);\n  const { idEmpresa } = useSelector((state) => state.user);\n\n\n\n\n  const handleSearch = (e) => {\n    e.preventDefault();\n    buscar(idTrabajador);\n  };\n  const buscar = (idTrabajador) => {\n    const tra = trabajadores.filter((employee) => employee.id === idTrabajador);\n    setDatosTrabajador(tra);\n    const ex = examenesIdTrabajador.filter(\n      (examen) => examen.idTrabajador === idTrabajador\n    );\n    setDatosExamenes(ex);\n\n    if (tra.length > 0) {\n      // setDatosTrabajador(tra);\n      // setDatosExamenes(ex);\n      setExist(true);\n    } else {\n      Swal.fire(\"Trabajador No Encontrado\", \"\", \"warning\");\n      //evita error de busqueda de no existente, después de encontrado\n      setExist(false)\n      reset();\n    }\n  };\n  const handleModal = () => {\n    dispatch(uiOpenModal());\n  };\n  return (\n    <div>\n      <form onSubmit={handleSearch}>\n        <h1 className=\"h3 mb-3 fw-normal\">Buscar Trabajador</h1>\n        <hr />\n        <input\n          type=\"text\"\n          id=\"idTrabajador\"\n          name=\"idTrabajador\"\n          className=\"form-control\"\n          placeholder=\"Ingrese rut, ej: 123456789\"\n          required\n          autoFocus\n          onChange={handleInputChange}\n          value={idTrabajador}\n        />\n        <button\n          className=\"w-100 btn btn-lg btn-primary\"\n          style={{ marginTop: \"10px\", marginBottom: \"10px\" }}\n          type=\"submit\"\n        >\n          Buscar\n        </button>\n      </form>\n\n      {exist ? (\n        <div>\n          <h3>Datos del Trabajador</h3>\n          <div className=\"datosTrabajador\">\n            {datosTrabajador ? (\n              <div>Nombre: {datosTrabajador[0].nombre}</div>\n            ) : (\n                <div></div>\n              )}\n          </div>\n          <div>\n            <h3>\n              Examenes{\" \"}\n              <span style={{ color: \"green\", cursor: \"pointer\" }}>\n                <i className=\"fas fa-plus-circle\" onClick={handleModal}>\n                  {\" \"}\n                </i>\n              </span>\n            </h3>\n          </div>\n          <table className=\"table\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Rut Empresa</th>\n                <th scope=\"col\">Rut Trabajador</th>\n                <th scope=\"col\">Fecha Caducidad</th>\n                <th scope=\"col\">Nombre Examen</th>\n                <th scope=\"col\">Examen</th>\n              </tr>\n            </thead>\n            <tbody>\n              {datosExamenes ? (\n                datosExamenes.map((examen) => (\n                  <ExamenScreen key={examen.id} {...examen} />\n                ))\n              ) : (\n                  <>Loading...</>\n                )}\n            </tbody>\n          </table>\n          <CalendarModal idTrabajador={idTrabajador} idEmpresa={idEmpresa} />\n        </div>\n      ) : (\n          <div></div>\n        )}\n    </div>\n  );\n};\n","import React from 'react'\n\nexport const DropDown = (data) => {\n    //nombre Empresa\n    const { nombre, idEmpresa } = data;\n    return (\n        \n        <option key={idEmpresa} value={idEmpresa} className='dropdown-item'>{nombre}</option>\n    )\n}\n","import React from \"react\";\nimport Swal from \"sweetalert2\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startCrearTrabajadorEmpresa } from \"../../actions/employee\";\nimport { useForm } from \"../../hooks/useForm\";\nimport { DropDown } from \"../ui/drop-down/DropDown\";\n\nexport const CreateEmployeeScreen = () => {\n  // const { idEmpresa } = useSelector((state) => state.user);\n  const { trabajadores } = useSelector((state) => state.trab);\n  const { empresas } = useSelector(state => state.empr);\n  const dispatch = useDispatch();\n\n\n  const [formValues, handleInputChange, reset] = useForm({\n    idEmpleado: \"\",\n    nombre: \"\",\n    idEmpresa: \"\",\n  });\n\n  const { idEmpleado, nombre, idEmpresa } = formValues;\n  console.log(formValues);\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const tra = trabajadores.filter((employee) => employee.id === idEmpleado);\n    if (tra.length > 0) {\n      Swal.fire(\"Ya existe este trabajador\", '', \"error\");\n      reset();\n    } else {\n      dispatch(startCrearTrabajadorEmpresa(idEmpresa, idEmpleado, nombre));\n      Swal.fire(\"Trabajador Creado con éxito\", \"\", \"success\");\n      reset();\n    }\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <h1 className=\"h3 mb-3 fw-normal\">Nuevo Trabajador</h1>\n        <hr />\n        <select\n          id='idEmpresa'\n          name='idEmpresa'\n          className=\"form-select\"\n          required\n          value={idEmpresa}\n          onChange={handleInputChange}\n\n        >\n          <option defaultValue key='default' value='default' className='dropdown-item'>Selecciona una empresa</option>\n          {\n            empresas.map(empresa => <DropDown key={empresa.idEmpresa} {...empresa} />)\n          }\n        </select>\n        <input\n          type=\"text\"\n          id=\"idEmpleado\"\n          name=\"idEmpleado\"\n          className=\"form-control\"\n          placeholder=\"Ingrese Rut sin puntos, ni guión\"\n          required\n          autoFocus\n          onChange={handleInputChange}\n          value={idEmpleado}\n        />\n        <input\n          type=\"text\"\n          id=\"nombre\"\n          name=\"nombre\"\n          className=\"form-control\"\n          placeholder=\"Nombre\"\n          required\n          autoFocus\n          onChange={handleInputChange}\n          value={nombre}\n        />\n        <button\n          className=\"w-100 btn btn-lg btn-primary\"\n          style={{ marginTop: \"10px\" }}\n          type=\"submit\"\n        >\n          Crear Trabajador\n        </button>\n      </form>\n    </div>\n  );\n};\n","import { db } from \"../firebase/firebase-config\";\nimport { types } from \"../types/types\";\n\nexport const startGetTodasLasEmpresas = () => {\n  return async (dispatch) => {\n    const empresas = [];\n    db.collection(\"empresas\")\n      .get()\n      .then((empresasRef) => {\n        empresasRef.forEach((empresa) => {\n          empresas.push({\n            idEmpresa: empresa.id,\n            ...empresa.data(),\n          });\n        });\n        dispatch(getTodasLasEmpresas(empresas));\n      });\n  };\n};\n\nexport const getTodasLasEmpresas = (empresas) => ({\n  type: types.getTodasLasEmpresas,\n  payload: empresas,\n});\n\nexport const startCrearNuevaEmpresa = (idEmpresa, empresa) => {\n  return async (dispatch) => {\n    await db.collection(\"empresas\").doc(idEmpresa).set(empresa);\n    // dispatch(crearNuevaEmpresa(empresa));\n    dispatch(startGetTodasLasEmpresas());\n  };\n};\n\nexport const startUpdateEmpresa = (empresa) => {\n  const { idEmpresa } = empresa\n  return async (dispatch) => {\n    const docRef = await db.collection('empresas').doc(idEmpresa).get();\n    if (docRef.exists) {\n      dispatch(startCrearNuevaEmpresa(idEmpresa, empresa))\n      // await db.collection('empresas').doc(idEmpresa).set({\n      //   idEmpresa: idEmpresa,\n      //   nombre: nombre,\n      // })\n      //   .then(console.log('Actualizado: ', idEmpresa))\n      //   .catch(error => {\n      //     console.log('Ocurrió un error: ', error);\n      //   })\n      // dispatch(updateEmpresa(idEmpresa, nombre))\n      return true;\n    } else {\n      return false;\n    }\n  }\n}\n\nexport const updateEmpresa = (idEmpresa, nombre) => ({\n  types: types.updateEmpresa,\n  payload: [idEmpresa, nombre]\n})\n\n//TODO: updateEmpresa\n\n// export const crearNuevaEmpresa = (empresa) => ({\n//   type: types.crearNuevaEmpresa,\n//   payload: empresa,\n// });\n","import React from \"react\";\nimport Swal from \"sweetalert2\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { startCrearNuevaEmpresa } from \"../../actions/empresa.actions\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const CreateEmpresaScreen = () => {\n  const dispatch = useDispatch();\n  const [formValues, handleInputChange, reset] = useForm({\n    idEmpresa: \"\",\n    nombre: \"\",\n  });\n  const { empresas } = useSelector((state) => state.empr);\n  const { idEmpresa, nombre } = formValues;\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const emp = empresas.filter((empresa) => empresa.idEmpresa === idEmpresa);\n    if (emp.length > 0) {\n      Swal.fire(\"Ya existe esta Empresa\", \"\", \"error\");\n      reset();\n    } else if (idEmpresa < 9) {\n      Swal.fire(\"El rut proporcionado es muy corto\", \"\", \"error\");\n      reset();\n    } else {\n      dispatch(\n        startCrearNuevaEmpresa(idEmpresa, {\n          idEmpresa: idEmpresa,\n          nombre: nombre,\n        })\n      );\n      Swal.fire(\"Empresa Creada con éxito\", \"\", \"success\");\n      reset();\n    }\n  };\n\n  return (\n    <div>\n      <h3>Crear Empresa</h3>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <input\n          id=\"idEmpresa\"\n          name=\"idEmpresa\"\n          type=\"text\"\n          value={idEmpresa}\n          onChange={handleInputChange}\n          className=\"form-control\"\n          placeholder=\"Rut Empresa sin puntos ni guión\"\n          required\n        />\n        <input\n          id=\"nombre\"\n          name=\"nombre\"\n          type=\"text\"\n          value={nombre}\n          onChange={handleInputChange}\n          className=\"form-control\"\n          placeholder=\"Nombre Empresa\"\n          required\n        />\n        <button\n          type=\"Submit\"\n          className=\"w-100 btn btn-lg btn-primary\"\n          style={{ marginTop: \"10px\", marginBottom: \"10px\" }}\n        >\n          crear\n        </button>\n      </form>\n    </div>\n  );\n};\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from \"sweetalert2\";\nimport { startUpdateEmpresa } from \"../../actions/empresa.actions\";\nimport { useForm } from \"../../hooks/useForm\";\n\nexport const EditEmpresaScreen = () => {\n  const dispatch = useDispatch()\n  const { empresas } = useSelector((state) => state.empr);\n  const [datosEmpresa, setDatosEmpresa] = useState();\n  const [exist, setExist] = useState(false);\n  const [editable, setEditable] = useState(false);\n  const [formValues, handleInputChange, reset] = useForm({\n    idEmpresa: \"\",\n  });\n  const { idEmpresa, nombre } = formValues;\n\n  const handleSearch = () => {\n    buscar(idEmpresa);\n  };\n  const buscar = (idEmpresa) => {\n    const emp = empresas.filter((empresa) => empresa.idEmpresa === idEmpresa);\n    if (emp.length > 0) {\n      // setDatosTrabajador(tra);\n      // setDatosExamenes(ex);\n      setDatosEmpresa(emp);\n      setExist(true);\n      setEditable(false);\n    } else {\n      Swal.fire(\"Empresa No Encontrada\", \"\", \"warning\");\n      setExist(false);\n      reset();\n    }\n  };\n\n  const handleEdit = () => {\n    setEditable(true);\n  };\n\n\n  const handleUpdate = (event) => {\n    event.preventDefault();\n    if (nombre.length <= 1) {\n      Swal.fire(\"El nombre es muy corto\", \"\", \"info\");\n      return;\n    }\n    /**\n     * TODO: limpiar el formulario al actualizar\n     */\n    dispatch(startUpdateEmpresa({ idEmpresa: idEmpresa, nombre: nombre }))\n      ? (Swal.fire(\"La Empresa se actualizó con éxito\", \"\", 'success'))\n      : (Swal.fire(\"Hubo un problema\", \"No se pudo actualizar\", 'err'))\n    reset()\n    setExist(false)\n  };\n\n  return (\n    <div>\n      <input\n        name=\"idEmpresa\"\n        id=\"idEmpresa\"\n        value={idEmpresa}\n        onChange={handleInputChange}\n        className=\"form-control\"\n        required\n        placeholder=\"Ingrese Rut sin puntos ni guión\"\n      />\n      <button\n        className=\"w-100 btn btn-lg btn-primary\"\n        style={{ marginTop: \"10px\" }}\n        type=\"submit\"\n        onClick={handleSearch}\n      >\n        Buscar\n      </button>\n\n      {exist ? (\n        <div>\n          <div style={{ marginTop: \"20px\" }}>\n            <h3>\n              <span>\n                Datos de la Empresa{\" \"}\n                <i\n                  className=\"fas fa-edit\"\n                  style={{ color: \"green\", cursor: \"pointer\" }}\n                  onClick={handleEdit}\n                ></i>\n              </span>\n            </h3>\n          </div>\n          <div>\n            <form onSubmit={handleUpdate}>\n              <label>Nombre</label>\n              <input\n                name=\"nombre\"\n                id=\"nombre\"\n                value={nombre}\n                onChange={handleInputChange}\n                className=\"form-control\"\n                readOnly={editable ? false : true}\n                required\n                placeholder={`${datosEmpresa[0].nombre} `}\n              />\n              {editable && (\n                <button\n                  className=\"w-100 btn btn-lg btn-primary\"\n                  style={{ marginTop: \"10px\" }}\n                  type=\"submit\"\n                >\n                  Guardar Cambios\n                </button>\n              )}\n            </form>\n          </div>\n        </div>\n      ) : (\n          <div></div>\n        )}\n    </div>\n  );\n};\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route, Link } from \"react-router-dom\";\nimport { Navbar } from \"../ui/Navbar\";\nimport { useDispatch, useSelector } from \"react-redux\";\n\nimport \"./dashboard.css\";\nimport { DashBoardScreen } from \"../ui/DashBoardScreen\";\nimport { EditEmployeeScreen } from \"../employee/EditEmployeeScreen\";\nimport { startGetExamenesPorVencerTodasLasEmpresas } from \"../../actions/exam\";\nimport { startGetTrabajadoresIdEmpresa } from \"../../actions/employee\";\nimport { CreateEmployeeScreen } from \"../employee/CreateEmployeeScreen\";\nimport { CreateEmpresaScreen } from \"../empresa/CreateEmpresaScreen\";\nimport { startGetTodasLasEmpresas } from \"../../actions/empresa.actions\";\nimport { EditEmpresaScreen } from \"../empresa/EditEmpresaScreen\";\n\nexport const MvcAppScreen = () => {\n  const dispatch = useDispatch();\n  const { isAdmin, idEmpresa } = useSelector((state) => state.user);\n\n  useEffect(() => {\n    if (idEmpresa) {\n      dispatch(startGetExamenesPorVencerTodasLasEmpresas());\n      dispatch(startGetTrabajadoresIdEmpresa(idEmpresa));\n      dispatch(startGetTodasLasEmpresas());\n    }\n  }, [dispatch, idEmpresa]);\n  //aqui deberia hacer el dispatch porque ya se que empresa es\n  return (\n    <div>\n      <Router>\n        <Navbar />\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <nav\n              id=\"sidebarMenu\"\n              className=\"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse\"\n            >\n              <div className=\"position-sticky pt-3\">\n                <ul className=\"nav flex-column\">\n                  <li className=\"nav-item\">\n                    <Link className=\"nav-link\" to=\"/\">\n                      Escritorio\n                    </Link>\n                  </li>\n                  {isAdmin ? (\n                    <>\n                      <h6 className=\"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted\">\n                        <span>Empresa</span>\n                      </h6>\n                      <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/admin/newempresa\">\n                          Nueva Empresa\n                        </Link>\n                      </li>\n                      <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/admin/editempresa\">\n                          Editar Empresa\n                        </Link>\n                      </li>\n                      <h6 className=\"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted\">\n                        <span>Usuario</span>\n                      </h6>\n                      <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/admin/newuser\">\n                          Nuevo Usuario\n                        </Link>\n                      </li>\n                      <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/admin/edituser\">\n                          Editar Usuario\n                        </Link>\n                      </li>\n                      <h6 className=\"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted\">\n                        <span>Trabajadores</span>\n                      </h6>\n                      <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/admin/createemployee\">\n                          Nuevo Trabajador\n                        </Link>\n                      </li>\n                      <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/admin/editemployee\">\n                          Editar Trabajador\n                        </Link>\n                      </li>\n                      <h6 className=\"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted\">\n                        <span>Equipos</span>\n                      </h6>\n                      <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/admin/newequipment\">\n                          Nuevo Equipo\n                        </Link>\n                      </li>\n                      <li className=\"nav-item\">\n                        <Link className=\"nav-link\" to=\"/admin/editequipment\">\n                          Editar Equipo\n                        </Link>\n                      </li>\n                    </>\n                  ) : (\n                    <div></div>\n                  )}\n                </ul>\n              </div>\n            </nav>\n          </div>\n          <div>\n            <main className=\"col-md-9 ms-sm-auto col-lg-10 px-md-4\">\n              <div className=\"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom\">\n                <Switch>\n                  <Route exact component={DashBoardScreen} path=\"/\" />\n                  <Route\n                    exact\n                    component={EditEmployeeScreen}\n                    path=\"/admin/editemployee\"\n                  />\n                  <Route\n                    exact\n                    component={CreateEmployeeScreen}\n                    path=\"/admin/createemployee\"\n                  />\n                  <Route\n                    exact\n                    component={CreateEmpresaScreen}\n                    path=\"/admin/newempresa\"\n                  />\n                  <Route\n                    exact\n                    component={EditEmpresaScreen}\n                    path=\"/admin/editempresa\"\n                  />\n                  <Route\n                    exact\n                    component={CreateEmpresaScreen}\n                    path=\"/admin/newempresa\"\n                  />\n                </Switch>\n              </div>\n            </main>\n          </div>\n        </div>\n      </Router>\n    </div>\n  );\n};\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch } from \"react-redux\";\nimport { BrowserRouter as Router, Switch, Redirect } from \"react-router-dom\";\nimport { login } from \"../actions/auth\";\nimport { firebase } from \"../firebase/firebase-config\";\nimport { AuthRouter } from \"./AuthRouter\";\nimport { PrivateRoute } from \"../routers/PrivateRoute\";\nimport { PublicRoute } from \"../routers/PublicRoute\";\nimport { MvcAppScreen } from \"../components/main/MvcAppScreen\";\nimport { startLoadUserData } from \"../actions/user\";\n\nexport const AppRouter = () => {\n  const dispatch = useDispatch();\n\n  const [checking, setChecking] = useState(true);\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  //Mantiene el estado \"state\" de redux respecto a los cambios\n  //que se generan al reacargar la página\n  //está escuchando si se logueo o cambia el login del usuario\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user?.uid) {\n        dispatch(login(user.uid));\n        //cargar el usuario que se acaba de autenticar\n        dispatch(startLoadUserData(user.uid));\n        setIsLoggedIn(true);\n      } else {\n        setIsLoggedIn(false);\n      }\n      setChecking(false);\n    });\n  }, [dispatch, setChecking, setIsLoggedIn]);\n\n  if (checking) {\n    return <h1>Cargando...</h1>;\n  }\n  return (\n    <Router>\n      <div>\n        <Switch>\n          <PublicRoute\n            path=\"/auth\"\n            component={AuthRouter}\n            isAuthenticated={isLoggedIn}\n          />\n\n          <PrivateRoute\n            exact\n            isAuthenticated={isLoggedIn}\n            path=\"/\"\n            component={MvcAppScreen}\n          />\n          <Redirect to=\"/\" />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n","import { types } from \"../types/types\";\n\nconst initialState = {\n  modalOpen: false,\n};\n\nexport const uiReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case types.uiOpenModal:\n      return {\n        ...state,\n        modalOpen: true,\n      };\n    case types.uiCloseModal:\n      return {\n        ...state,\n        modalOpen: false,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { createStore, combineReducers, applyMiddleware, compose } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { authReducer } from \"../reducers/authReducer\";\nimport { employeeReducer } from \"../reducers/employeeReducer\";\nimport { empresaReducer } from \"../reducers/empresaReducer\";\nimport { examReducer } from \"../reducers/examReducer\";\nimport { uiReducer } from \"../reducers/uiReducer\";\nimport { userReducer } from \"../reducers/userReducer\";\n\nconst composeEnhancers =\n  (typeof window !== \"undefined\" &&\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) ||\n  compose;\n\nconst reducers = combineReducers({\n  auth: authReducer,\n  user: userReducer,\n  exam: examReducer,\n  ui: uiReducer,\n  trab: employeeReducer,\n  empr: empresaReducer,\n});\n\nexport const store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(thunk))\n);\n","import { types } from \"../types/types\";\n\nexport const authReducer = (state = {}, action) => {\n  switch (action.type) {\n    case types.login:\n      return {\n        uid: action.payload.uid,\n        //name: action.payload.displayName,\n      };\n\n    case types.logout:\n      return {};\n\n    default:\n      return state;\n  }\n};\n","import { types } from \"../types/types\";\n\nexport const userReducer = (state = {}, action) => {\n  switch (action.type) {\n    case types.loadUserData:\n      return {\n        nombre: action.payload.nombre,\n        idEmpresa: action.payload.idEmpresa,\n        isAdmin: action.payload.isAdmin,\n        idUsuario:action.payload.idUsuario\n      };\n\n    case types.userLogout:\n      return {};\n\n    default:\n      return state;\n  }\n};\n","import { types } from \"../types/types\";\n\nexport const examReducer = (state = {}, action) => {\n  switch (action.type) {\n    case types.getExamenesPorVencerPorIdEmpresa:\n      return {\n        ...state,\n        examenes: [...action.payload],\n      };\n    case types.getTodoExamenesTrabajadorID:\n      return {\n        ...state,\n        examenesIdTrabajador: [...action.payload]\n      }\n\n    case types.getExamenesPorVencerTodasLasEmpresas:\n      return {\n        ...state,\n        examenes: [...action.payload]\n      }\n\n    case types.getExamsIdTrabajador:\n      return {\n        ...state,\n        examenes: [...action.payload],\n      };\n\n    case types.crearNuevoExamen:\n      return {\n        ...state,\n        examen: action.payload,\n      };\n    case types.getExamenUrl:\n      return {\n        ...state,\n        url: action.payload,\n      };\n\n    case types.examenesLogout:\n      return {};\n\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport { types } from \"../types/types\";\n\nexport const employeeReducer = (state = {}, action) => {\n  switch (action.type) {\n    case types.getTrabajadoresIdEmpresa:\n      return {\n        ...state,\n        trabajadores: [...action.payload],\n      };\n\n    case types.crearTrabajadorEmpresa:\n      return {\n        ...state,\n        creado: action.payload,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { types } from \"../types/types\";\n\nexport const empresaReducer = (state = {}, action) => {\n  switch (action.type) {\n    case types.getTodasLasEmpresas:\n      return {\n        ...state,\n        empresas: action.payload,\n      };\n    // case types.crearNuevaEmpresa:\n    //   console.log(action.payload);\n    //   return {\n    //     ...state,\n    //     ultimaCreada: action.payload,\n    //   };\n    default:\n      return state;\n  }\n};\n","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport { AppRouter } from \"./routers/AppRouter\";\nimport { store } from \"./store/store\";\n\nexport const MvcApp = () => {\n  return (\n    <Provider store={store}>\n      <AppRouter />\n    </Provider>\n  );\n};\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { MvcApp } from \"./MvcApp\";\n\nReactDOM.render(<MvcApp />, document.getElementById(\"root\"));\n"],"sourceRoot":""}