(this.webpackJsonpmvcapp=this.webpackJsonpmvcapp||[]).push([[0],{120:function(e,t,a){},122:function(e,t,a){},161:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a(16),s=a.n(c),o=a(9),i=a(13),l=a(24),u=a(22),d=a(10),j=a.n(d),b=a(14),m=a(59);a(164),a(118);m.a.initializeApp({apiKey:"AIzaSyDUGKdITlmFd_OsNHsf_vRa1_9i5Y_m0NQ",authDomain:"morevalue-f6170.firebaseapp.com",projectId:"morevalue-f6170",storageBucket:"morevalue-f6170.appspot.com",messagingSenderId:"738327980225",appId:"1:738327980225:web:f0e12eae6aca8b8f4fcc40"});var p=m.a.firestore(),O={login:"[Auth] Login",logout:"[Auth] Logout",loadUserData:"[User] Load Logged User Data",userLogout:"[User] Logout",getTrabajadoresIdEmpresa:"[Emp] Get Trabajadores ID Empresa",trabajadoresLogout:"[Emp] Limpiar Trabajadores",crearTrabajadorEmpresa:"[Emp] Trabajador Creado",trabajadorExist:"[Emp] Trabajador ya est\xe1 en DB",getExamenesPorVencerPorIdEmpresa:"[Exam] Get Examenes por Vencer ID Empresa",getExamenesPorVencerTodasLasEmpresas:"[Exam] Get Examenes por Vencer todas las Empresas",crearNuevoExamen:"[Exam] Crear Nuevo Examen ID Trabajador",getExamenUrl:"[Exam] Get Examen URL",removeExamenUrl:"[Exam] Remove Examen URL",examenesLogout:"[Exam] Limpiar Examenes",getTodoExamenesTrabajadorID:"[Exam] Examenes por idTrabajador",uiOpenModal:"[UI] Open Modal",uiCloseModal:"[UI] Close Modal",crearNuevaEmpresa:"[EMP] Crear Nueva Empresa",getTodasLasEmpresas:"[EMP] Get Todas Las Empresa",getEquiposIdEmpresa:"[Emp] Get Equipos ID Empresa",crearEquipoEmpresa:"[Emp] Equipo Creado",equiposLogout:"[Emp] Limpiar Equipos",equipoExist:"[Emp] Equipo ya est\xe1 en DB",getPermisosPorVencerIdEmpresas:"[PER] Permisos por vencer ID Empresa",getTodoPermisosEquipoID:"[PER] Get todos Permisos Equipo ID",getPermisosPorVencerTodasLasEmpresas:"[PER] Get todos Permisos por vencer todas las empresas",crearNuevoPermiso:"[PER] Crear Nuevo Permiso"},h=function(e,t){return{type:O.login,payload:{uid:e,displayName:t}}},f=function(){return{type:O.logout}},x=a(37),v=a(5),g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(r.useState)(e),a=Object(i.a)(t,2),n=a[0],c=a[1],s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;c(t)},o=function(e){var t=e.target;c(Object(v.a)(Object(v.a)({},n),{},Object(x.a)({},t.name,t.value)))};return[n,o,s]},E=(a(120),function(){var e=Object(o.b)(),t=g({email:"",password:""}),a=Object(i.a)(t,2),r=a[0],c=a[1],s=r.email,l=r.password;return Object(n.jsx)("div",{className:"text-center",children:Object(n.jsx)("main",{className:"form-signin",children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(a){m.a.auth().signInWithEmailAndPassword(e,t).then((function(e){var t=e.user;a(h(t.uid,""))})).catch((function(e){console.log(e)}))}}(s,l))},children:[Object(n.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Ingreso Empresas"}),Object(n.jsx)("input",{type:"email",id:"email",name:"email",className:"form-control",placeholder:"Correo Electr\xf3nico",required:!0,autoFocus:!0,onChange:c,value:s}),Object(n.jsx)("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Contrase\xf1a",required:!0,onChange:c,value:l}),Object(n.jsx)("div",{className:"checkbox mb-3"}),Object(n.jsx)("button",{className:"w-100 btn btn-lg btn-primary",type:"submit",children:"Ingresar"})]})})})}),y=function(){return Object(n.jsx)("div",{className:"auth__main",children:Object(n.jsx)("div",{className:"auth__box-container",children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{exact:!0,path:"/auth/login",component:E}),Object(n.jsx)(u.a,{to:"/auth/login"})]})})})},N=a(39),w=function(e){var t=e.isAuthenticated,a=e.component,r=Object(N.a)(e,["isAuthenticated","component"]);return Object(n.jsx)(u.b,Object(v.a)(Object(v.a)({},r),{},{component:function(e){return t?Object(n.jsx)(a,Object(v.a)({},e)):Object(n.jsx)(u.a,{to:"/auth/login"})}}))},T=function(e){var t=e.isAuthenticated,a=e.component,r=Object(N.a)(e,["isAuthenticated","component"]);return Object(n.jsx)(u.b,Object(v.a)(Object(v.a)({},r),{},{component:function(e){return t?Object(n.jsx)(u.a,{to:"/"}):Object(n.jsx)(a,Object(v.a)({},e))}}))},D=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],p.collection("trabajadores").where("idEmpresa","==",e).get().then((function(e){e.forEach((function(e){n.push(Object(v.a)({id:e.id},e.data()))})),a(C(n))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},C=function(e){return{type:O.getTrabajadoresIdEmpresa,payload:e}},q=function(){return{type:O.crearTrabajadorEmpresa,payload:!0}},k=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.cloudinary.com/v1_1/dgoxdpdrc/upload",(a=new FormData).append("upload_preset","morevalue"),a.append("folder","pdf"),a.append("file",t),e.prev=5,e.next=8,fetch("https://api.cloudinary.com/v1_1/dgoxdpdrc/upload",{method:"POST",body:a});case 8:if(!(n=e.sent).ok){e.next=16;break}return e.next=12,n.json();case 12:return r=e.sent,e.abrupt("return",r.secure_url);case 16:return e.next=18,n.json();case 18:throw e.sent;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(5),console.log(e.t0);case 24:case"end":return e.stop()}}),e,null,[[5,21]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e){var t=[];return function(){var a=Object(b.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.collection("examenes").where("idTrabajador","==",e).get().then((function(e){e.forEach((function(e){t.push(Object(v.a)({id:e.id},e.data()))}))}));case 2:n(I(t));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},I=function(e){return{type:O.getTodoExamenesTrabajadorID,payload:e}},P=function(){var e=new Date;e.setDate(e.getDate()+90);var t=e.getTime(),a=[];return function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("examenes").where("fechaCaducidad","<=",t).get().then((function(e){e.forEach((function(e){a.push(Object(v.a)({id:e.id},e.data()))}))}));case 2:n(L(a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},L=function(e){return{type:O.getExamenesPorVencerTodasLasEmpresas,payload:e}},A=function(e){return{type:O.crearNuevoExamen,payload:e}},R=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e);case 2:n=t.sent,a(U(n));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},U=function(e){return{type:O.getExamenUrl,payload:e}},_=function(){return{type:O.removeExamenUrl}},F=function(e){return{type:O.loadUserData,payload:e}},M=function(){var e=Object(o.c)((function(e){return e.user})).nombre,t=Object(o.b)();return Object(n.jsx)("div",{children:Object(n.jsxs)("header",{className:"navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow",children:[Object(n.jsx)("div",{className:"navbar-brand col-md-3 col-lg-2 me-0 px-3 nav-link",children:e}),Object(n.jsx)("button",{className:"navbar-toggler position-absolute d-md-none collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#sidebarMenu","aria-controls":"sidebarMenu","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(n.jsx)("span",{className:"navbar-toggler-icon"})}),Object(n.jsx)("ul",{className:"navbar-nav px-3",children:Object(n.jsx)("li",{className:"nav-item text-nowrap",children:Object(n.jsx)("button",{className:"btn nav-link",onClick:function(){t(function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.auth().signOut();case 2:t(f());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t({type:O.userLogout}),t({type:O.trabajadoresLogout}),t({type:O.examenesLogout})},children:"Salir"})})})]})})},V=(a(122),function(){var e=new Date;e.setDate(e.getDate()+90);var t=e.getTime(),a=[];return function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.collection("permisos").where("fechaCaducidad","<=",t).get().then((function(e){e.forEach((function(e){a.push(Object(v.a)({id:e.id},e.data()))}))}));case 2:n(B(a));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}),B=function(e){return{type:O.getPermisosPorVencerTodasLasEmpresas,payload:e}},G=function(e){var t=[];return function(){var a=Object(b.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.collection("permisos").where("idEquipo","==",e).get().then((function(e){e.forEach((function(e){t.push(Object(v.a)({id:e.id},e.data()))}))}));case 2:n(z(t));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},z=function(e){return{type:O.getTodoPermisosEquipoID,payload:e}},Y=function(e){return{type:O.crearNuevoPermiso,payload:e}},H=function(e){e.id;var t=Object(N.a)(e,["id"]),a=Object(o.b)(),r=t.idEmpresa,c=t.idTrabajador,s=t.fechaCaducidad,i=t.url,l=t.nombreExamen,u=Object(o.c)((function(e){return e.user})),d=u.nombre,m=u.idUsuario;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("i",{className:"fas fa-circle",style:{color:"".concat(function(e){var t=new Date,a=new Date,n=new Date;return t.setDate(t.getDate()+30),a.setDate(a.getDate()+60),n.setDate(n.getDate()+90),e<=t.getTime()?"red":e<=a.getTime()&&e<=n.getTime()?"yellow":e>n.getTime()?"green":void 0}(s)),border:"1px solid black",borderRadius:"50px"}})}),Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:c}),Object(n.jsx)("td",{children:new Date(s).toLocaleDateString()}),Object(n.jsx)("td",{children:l}),Object(n.jsx)("td",{children:Object(n.jsx)("a",{className:"data",href:i,target:"_blank",rel:"noreferrer",onClick:function(){console.log("archivo descargado: "+l+"descargado por: "+d),a(function(e,t,a,n,r){return Object(b.a)(j.a.mark((function c(){return j.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p.collection("registro/".concat(e,"/log")).add({fechaDescarga:(new Date).toLocaleDateString(),id:e,idEmpresa:t,idTrabajador:a,archivoDescargado:n,url:r},{merge:!0}).then((function(e){console.log("Registro Ingresado: ",e)})).catch((function(e){console.log("Algo sali\xf3 mal: ",e)}));case 2:case"end":return c.stop()}}),c)})))}(m,r,c,l,i))},children:"descargar"})})]})},J=function(e){e.id;var t=Object(N.a)(e,["id"]),a=t.idEmpresa,r=t.idEquipo,c=t.fechaCaducidad,s=t.url,o=t.nombrePermiso;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:Object(n.jsx)("i",{className:"fas fa-circle",style:{color:"".concat(function(e){var t=new Date,a=new Date,n=new Date;return t.setDate(t.getDate()+30),a.setDate(a.getDate()+60),n.setDate(n.getDate()+90),e<=t.getTime()?"red":e>t.getTime()&&e<=n.getTime()?"yellow":e>n.getTime()?"green":void 0}(c)),border:"1px solid black",borderRadius:"50px"}})}),Object(n.jsx)("td",{children:a}),Object(n.jsx)("td",{children:r}),Object(n.jsx)("td",{children:new Date(c).toLocaleDateString()}),Object(n.jsx)("td",{children:o}),Object(n.jsx)("td",{children:Object(n.jsx)("a",{className:"data",href:s,target:"_blank",rel:"noreferrer",children:"descargar"})})]})},K=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.exam})).examenes,a=Object(o.c)((function(e){return e.perm})).permisos;return Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("h1",{children:"Resumen:"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("h2",{children:["Documentos por Vencer"," ",Object(n.jsx)("i",{className:"fas fa-sync fa-xs",style:{cursor:"pointer",color:"green"},onClick:function(){e(P()),e(V())}})]}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"column",children:"Estado"}),Object(n.jsx)("th",{scope:"col","data-sortable":"true","data-field":"id",children:"Rut Empresa"}),Object(n.jsx)("th",{scope:"col",children:"Rut Trabajador"}),Object(n.jsx)("th",{scope:"col",children:"Fecha Caducidad"}),Object(n.jsx)("th",{scope:"col",children:"Nombre Documento"}),Object(n.jsx)("th",{scope:"col",children:"Descargar"})]})}),Object(n.jsx)("tbody",{children:t?t.map((function(e){return Object(n.jsx)(H,Object(v.a)({},e),e.id)})):Object(n.jsx)(n.Fragment,{children:"Loading..."})})]}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"column",children:"Estado"}),Object(n.jsx)("th",{scope:"col","data-sortable":"true","data-field":"id",children:"Rut Empresa"}),Object(n.jsx)("th",{scope:"col",children:"ID Equipo"}),Object(n.jsx)("th",{scope:"col",children:"Fecha Caducidad"}),Object(n.jsx)("th",{scope:"col",children:"Nombre Documento"}),Object(n.jsx)("th",{scope:"col",children:"Descargar"})]})}),Object(n.jsx)("tbody",{children:a?a.map((function(e){return Object(n.jsx)(J,Object(v.a)({},e),e.id)})):Object(n.jsx)(n.Fragment,{children:"Loading..."})})]})]})},X=a(21),Q=a.n(X),W=a(60),Z=a.n(W),$=a(61),ee=a.n($),te=a(46),ae=a.n(te),ne=(a(90),function(){return{type:O.uiOpenModal,payload:!0}}),re=function(){return{type:O.uiCloseModal,payload:!1}},ce={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},se=Z()().minutes(0).seconds(0);ae.a.setAppElement("#root");var oe=function(e){var t=e.idTrabajador,a=e.idEmpresa,c=Object(o.b)(),s=Object(o.c)((function(e){return e.ui})).modalOpen,l=Object(o.c)((function(e){return e.exam})).url,u=Object(r.useState)(se.toDate()),d=Object(i.a)(u,2),m=d[0],O=d[1],h=Object(r.useState)(!0),f=Object(i.a)(h,2),g=f[0],E=f[1],y=Object(r.useState)({nombreExamen:"",fechaCaducidad:se.toDate()}),N=Object(i.a)(y,2),w=N[0],T=N[1],D=w.nombreExamen;return Object(n.jsxs)(ae.a,{isOpen:s,onRequestClose:function(){c(re()),c(_())},style:ce,contentLabel:"Example Modal",className:"modal",overlayClassName:"modal-fondo",closeTimeoutMS:500,children:[Object(n.jsx)("h1",{children:" Nuevo examen "}),Object(n.jsx)("hr",{}),Object(n.jsxs)("form",{className:"container",onSubmit:function(e){if(e.preventDefault(),D.trim().length<2)return E(!1);E(!0)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Nombre"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(!g&&"is-invalid"),placeholder:"Nombre del examen",name:"nombreExamen",autoComplete:"off",value:D,onChange:function(e){var t=e.target;T(Object(v.a)(Object(v.a)({},w),{},Object(x.a)({},t.name,t.value)))},required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Fecha Vencimiento"}),Object(n.jsx)(ee.a,{name:"vencimiento",className:"form-control",value:m,onChange:function(e){O(e),T(Object(v.a)(Object(v.a)({},w),{},{fechaCaducidad:e}))},required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Adjuntar Archivo"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{id:"fileSelector",type:"file",name:"file",style:{display:"none"},onChange:function(e){var t=e.target.files[0];t&&c(R(t))},required:!0}),Object(n.jsx)("button",{className:"btn btn-success",onClick:function(){document.querySelector("#fileSelector").click()},children:"Archivo Examen"})]}),Object(n.jsxs)("button",{type:"submit",className:"btn btn-outline-primary btn-block",style:{marginTop:"10px",display:"".concat(l?"":"none")},onClick:function(){var e;c((e={idTrabajador:t,idEmpresa:a,nombreExamen:D,fechaCaducidad:new Date(w.fechaCaducidad).getTime(),fechaCreacion:(new Date).getTime(),url:l},function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.collection("examenes").add(e).then((function(e){console.log("Agregado: ",e.id)})).catch((function(e){console.log("Error: ",e)})),a(A(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),Q.a.fire("Examen Creado con \xc9xito","","success"),c(re()),S(t),c(_())},children:[Object(n.jsx)("i",{className:"far fa-save",style:{cursor:"pointer"}}),Object(n.jsx)("span",{children:" Guardar"})]})]})]})},ie=function(){var e=Object(o.b)(),t=g({idTrabajador:""}),a=Object(i.a)(t,3),c=a[0],s=a[1],l=a[2],u=c.idTrabajador;Object(r.useEffect)((function(){e(S(u))}),[e,u]);var d=Object(r.useState)(!1),j=Object(i.a)(d,2),b=j[0],m=j[1],p=Object(r.useState)([]),O=Object(i.a)(p,2),h=O[0],f=O[1],x=Object(r.useState)([]),E=Object(i.a)(x,2),y=E[0],N=E[1],w=Object(o.c)((function(e){return e.trab})).trabajadores,T=Object(o.c)((function(e){return e.exam})).examenesIdTrabajador,D=Object(o.c)((function(e){return e.user})).idEmpresa,C=function(e){var t=w.filter((function(t){return t.id===e}));f(t);var a=T.filter((function(t){return t.idTrabajador===e}));N(a),t.length>0?m(!0):(Q.a.fire("Trabajador No Encontrado","","warning"),m(!1),l())};return Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),C(u)},children:[Object(n.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Buscar Trabajador"}),Object(n.jsx)("hr",{}),Object(n.jsx)("input",{type:"text",id:"idTrabajador",name:"idTrabajador",className:"form-control",placeholder:"Ingrese rut, ej: 123456789",required:!0,autoFocus:!0,onChange:s,value:u}),Object(n.jsx)("button",{className:"w-100 btn btn-lg btn-primary",style:{marginTop:"10px",marginBottom:"10px"},type:"submit",children:"Buscar"})]}),b?Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Datos del Trabajador"}),Object(n.jsx)("div",{className:"datosTrabajador",children:h?Object(n.jsxs)("div",{children:["Nombre: ",h[0].nombre]}):Object(n.jsx)("div",{})}),Object(n.jsx)("div",{children:Object(n.jsxs)("h3",{children:["Docuementos"," ",Object(n.jsx)("span",{style:{color:"green",cursor:"pointer"},children:Object(n.jsx)("i",{className:"fas fa-plus-circle",onClick:function(){e(ne())},children:" "})})]})}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Rut Empresa"}),Object(n.jsx)("th",{scope:"col",children:"Rut Trabajador"}),Object(n.jsx)("th",{scope:"col",children:"Fecha Caducidad"}),Object(n.jsx)("th",{scope:"col",children:"Nombre Documento"}),Object(n.jsx)("th",{scope:"col",children:"Descargar"})]})}),Object(n.jsx)("tbody",{children:y?y.map((function(e){return Object(n.jsx)(H,Object(v.a)({},e),e.id)})):Object(n.jsx)(n.Fragment,{children:"Loading..."})})]}),Object(n.jsx)(oe,{idTrabajador:u,idEmpresa:D})]}):Object(n.jsx)("div",{})]})},le=function(e){var t=e.nombre,a=e.idEmpresa;return Object(n.jsx)("option",{value:a,className:"dropdown-item",children:t},a)},ue=function(){var e=Object(o.c)((function(e){return e.trab})).trabajadores,t=Object(o.c)((function(e){return e.empr})).empresas,a=Object(o.b)(),r=g({idEmpleado:"",nombre:"",idEmpresa:""}),c=Object(i.a)(r,3),s=c[0],l=c[1],u=c[2],d=s.idEmpleado,m=s.nombre,O=s.idEmpresa;console.log(s);return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.filter((function(e){return e.id===d})).length>0?(Q.a.fire("Ya existe este trabajador","","error"),u()):(a(function(e,t,a){return function(){var n=Object(b.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p.collection("trabajadores").doc(t).set({idEmpresa:e,nombre:a}),r(q()),r(D(e));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(O,d,m)),Q.a.fire("Trabajador Creado con \xe9xito","","success"),u())},children:[Object(n.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Nuevo Trabajador"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("select",{id:"idEmpresa",name:"idEmpresa",className:"form-select",required:!0,value:O,onChange:l,children:[Object(n.jsx)("option",{defaultValue:!0,value:"default",className:"dropdown-item",children:"Selecciona una empresa"},"default"),t.map((function(e){return Object(n.jsx)(le,Object(v.a)({},e),e.idEmpresa)}))]}),Object(n.jsx)("input",{type:"text",id:"idEmpleado",name:"idEmpleado",className:"form-control",placeholder:"Ingrese Rut sin puntos, ni gui\xf3n",required:!0,autoFocus:!0,onChange:l,value:d}),Object(n.jsx)("input",{type:"text",id:"nombre",name:"nombre",className:"form-control",placeholder:"Nombre",required:!0,autoFocus:!0,onChange:l,value:m}),Object(n.jsx)("button",{className:"w-100 btn btn-lg btn-primary",style:{marginTop:"10px"},type:"submit",children:"Crear Trabajador"})]})})},de=function(){return function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=[],p.collection("empresas").get().then((function(e){e.forEach((function(e){a.push(Object(v.a)({idEmpresa:e.id},e.data()))})),t(je(a))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},je=function(e){return{type:O.getTodasLasEmpresas,payload:e}},be=function(e,t){return function(){var a=Object(b.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.collection("empresas").doc(e).set(t);case 2:n(de());case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},me=function(){var e=Object(o.b)(),t=g({idEmpresa:"",nombre:""}),a=Object(i.a)(t,3),r=a[0],c=a[1],s=a[2],l=Object(o.c)((function(e){return e.empr})).empresas,u=r.idEmpresa,d=r.nombre;return Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Crear Empresa"}),Object(n.jsxs)("form",{className:"form",onSubmit:function(t){t.preventDefault(),l.filter((function(e){return e.idEmpresa===u})).length>0?(Q.a.fire("Ya existe esta Empresa","","error"),s()):u<9?(Q.a.fire("El rut proporcionado es muy corto","","error"),s()):(e(be(u,{idEmpresa:u,nombre:d})),Q.a.fire("Empresa Creada con \xe9xito","","success"),s())},children:[Object(n.jsx)("input",{id:"idEmpresa",name:"idEmpresa",type:"text",value:u,onChange:c,className:"form-control",placeholder:"Rut Empresa sin puntos ni gui\xf3n",required:!0}),Object(n.jsx)("input",{id:"nombre",name:"nombre",type:"text",value:d,onChange:c,className:"form-control",placeholder:"Nombre Empresa",required:!0}),Object(n.jsx)("button",{type:"Submit",className:"w-100 btn btn-lg btn-primary",style:{marginTop:"10px",marginBottom:"10px"},children:"crear"})]})]})},pe=a(202),Oe=a(203),he=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.empr})).empresas,a=Object(r.useState)(),c=Object(i.a)(a,2),s=c[0],l=c[1],u=Object(r.useState)(!1),d=Object(i.a)(u,2),m=d[0],O=d[1],h=Object(r.useState)(!1),f=Object(i.a)(h,2),x=f[0],E=f[1],y=Object(r.useState)(t[0]),N=Object(i.a)(y,2),w=N[0],T=N[1],D=Object(r.useState)(""),C=Object(i.a)(D,2),q=C[0],k=C[1],S=g({idEmpresa:"",nombre:""}),I=Object(i.a)(S,3),P=I[0],L=I[1],A=I[2],R=P.idEmpresa,U=P.nombre;console.log(P);var _=function(e){var a=t.filter((function(t){return t.idEmpresa===e}));a.length>0?(l(a),O(!0),E(!1)):(Q.a.fire("Empresa No Encontrada","","warning"),O(!1),A())};return Object(n.jsx)("div",{className:"container-fluid",children:Object(n.jsxs)("div",{className:"row",children:[Object(n.jsx)("h3",{children:"Buscar Empresa"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Por Rut"}),Object(n.jsx)("input",{name:"idEmpresa",id:"idEmpresa",value:R,onChange:L,className:"form-control",required:!0,placeholder:"Ingrese Rut sin puntos ni gui\xf3n"}),Object(n.jsx)("button",{className:"w-100 btn btn-lg btn-primary",style:{marginTop:"10px"},type:"submit",onClick:function(){_(R)},children:"Buscar"})]}),Object(n.jsxs)("div",{className:"col-md-6",children:[Object(n.jsx)("h4",{children:"Por Nombre"}),Object(n.jsx)(Oe.a,{id:"nombreEmpresaAutoComplete",name:"nombreEmpresaAutoComplete",options:t,getOptionLabel:function(e){return e.nombre},style:{width:300},value:w,onChange:function(e,a){T(a),null===w&&T(t[0])},inputValue:q,onInputChange:function(e,t){k(t)},renderInput:function(e){return Object(n.jsx)(pe.a,Object(v.a)(Object(v.a)({},e),{},{variant:"outlined",className:"form-control"}))}}),Object(n.jsx)("button",{className:"w-100 btn btn-lg btn-primary",style:{marginTop:"10px"},type:"submit",onClick:function(){return _(w.idEmpresa)},children:"Buscar"})]}),m?Object(n.jsxs)("div",{className:"col-md-12",children:[Object(n.jsx)("div",{style:{marginTop:"20px"},children:Object(n.jsx)("h3",{children:Object(n.jsxs)("span",{children:["Datos de la Empresa"," ",Object(n.jsx)("i",{className:"fas fa-edit",style:{color:"green",cursor:"pointer"},onClick:function(){E(!0)}})]})})}),Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:function(a){a.preventDefault(),U.length<=1?Q.a.fire("El nombre es muy corto","","info"):(console.log(w.idEmpresa),e(function(e){var t=e.idEmpresa;return function(){var a=Object(b.a)(j.a.mark((function a(n){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,p.collection("empresas").doc(t).get();case 2:if(!a.sent.exists){a.next=8;break}return n(be(t,e)),a.abrupt("return",!0);case 8:return a.abrupt("return",!1);case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}({idEmpresa:R||w.idEmpresa,nombre:U}))?Q.a.fire("La Empresa se actualiz\xf3 con \xe9xito","","success"):Q.a.fire("Hubo un problema","No se pudo actualizar","err"),A(),O(!1),T(t[0]))},children:[Object(n.jsx)("label",{children:"Nombre"}),Object(n.jsx)("input",{name:"nombre",id:"nombre",value:U,onChange:L,className:"form-control",readOnly:!x,required:!0,placeholder:"".concat(s[0].nombre," ")}),x&&Object(n.jsx)("button",{className:"w-100 btn btn-lg btn-primary",style:{marginTop:"10px"},type:"submit",children:"Guardar Cambios"})]})})]}):Object(n.jsx)("div",{})]})})},fe=function(){return{type:O.crearEquipoEmpresa,payload:!0}},xe=function(e){return function(){var t=Object(b.a)(j.a.mark((function t(a){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],p.collection("equipos").where("idEmpresa","==",e).get().then((function(e){e.forEach((function(e){n.push(Object(v.a)({id:e.id},e.data()))})),a(ve(n))}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ve=function(e){return{type:O.getEquiposIdEmpresa,payload:e}},ge=function(){var e=Object(o.c)((function(e){return e.equi})).equipos,t=Object(o.c)((function(e){return e.empr})).empresas,a=Object(o.b)(),r=g({idEmpresa:"",idEquipo:"",nombre:""}),c=Object(i.a)(r,3),s=c[0],l=c[1],u=c[2],d=s.idEquipo,m=s.nombre,O=s.idEmpresa;return Object(n.jsx)("div",{children:Object(n.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.filter((function(e){return e.id===d})).length>0?(Q.a.fire("Ya existe este equipo","","error"),u()):(a(function(e,t,a){return function(){var n=Object(b.a)(j.a.mark((function n(r){return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:p.collection("equipos").doc(t).set({idEmpresa:e,nombre:a}),r(fe()),r(xe(e));case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(O,d.toUpperCase(),m)),Q.a.fire("Equipo Creado con \xe9xito","","success"),u())},children:[Object(n.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Nuevo Eqiupo"}),Object(n.jsx)("hr",{}),Object(n.jsxs)("select",{id:"idEmpresa",name:"idEmpresa",className:"form-select",required:!0,value:O,onChange:l,children:[Object(n.jsx)("option",{defaultValue:!0,value:"default",className:"dropdown-item",children:"Selecciona una empresa"},"default"),t.map((function(e){return Object(n.jsx)(le,Object(v.a)({},e),e.idEmpresa)}))]}),Object(n.jsx)("input",{type:"text",id:"idEquipo",name:"idEquipo",className:"form-control",placeholder:"Ingrese patente o c\xf3digo del equipo",required:!0,autoFocus:!0,onChange:l,value:d}),Object(n.jsx)("input",{type:"text",id:"nombre",name:"nombre",className:"form-control",placeholder:"Nombre",required:!0,autoFocus:!0,onChange:l,value:m}),Object(n.jsx)("button",{className:"w-100 btn btn-lg btn-primary",style:{marginTop:"10px"},type:"submit",children:"Crear Eqiupo"})]})})},Ee={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)"}},ye=Z()().minutes(0).seconds(0);ae.a.setAppElement("#root");var Ne=function(e){var t=e.idEquipo,a=e.idEmpresa,c=Object(o.b)(),s=Object(o.c)((function(e){return e.ui})).modalOpen,l=Object(o.c)((function(e){return e.exam})).url,u=Object(r.useState)(ye.toDate()),d=Object(i.a)(u,2),m=d[0],O=d[1],h=Object(r.useState)(!0),f=Object(i.a)(h,2),g=f[0],E=f[1],y=Object(r.useState)({nombrePermiso:"",fechaCaducidad:ye.toDate()}),N=Object(i.a)(y,2),w=N[0],T=N[1],D=w.nombrePermiso;return Object(n.jsxs)(ae.a,{isOpen:s,onRequestClose:function(){c(re()),c(_())},style:Ee,contentLabel:"Example Modal",className:"modal",overlayClassName:"modal-fondo",closeTimeoutMS:500,children:[Object(n.jsx)("h1",{children:" Nuevo Permiso "}),Object(n.jsx)("hr",{}),Object(n.jsxs)("form",{className:"container",onSubmit:function(e){if(e.preventDefault(),D.trim().length<2)return E(!1);E(!0)},children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Nombre"}),Object(n.jsx)("input",{type:"text",className:"form-control ".concat(!g&&"is-invalid"),placeholder:"Nombre del permiso",name:"nombrePermiso",autoComplete:"off",value:D,onChange:function(e){var t=e.target;T(Object(v.a)(Object(v.a)({},w),{},Object(x.a)({},t.name,t.value)))},required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Fecha Vencimiento"}),Object(n.jsx)(ee.a,{name:"vencimiento",className:"form-control",value:m,onChange:function(e){O(e),T(Object(v.a)(Object(v.a)({},w),{},{fechaCaducidad:e}))},required:!0})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Adjuntar Archivo"}),Object(n.jsx)("br",{}),Object(n.jsx)("input",{id:"fileSelector",type:"file",name:"file",style:{display:"none"},onChange:function(e){var t=e.target.files[0];t&&c(R(t))},required:!0}),Object(n.jsx)("button",{className:"btn btn-success",onClick:function(){document.querySelector("#fileSelector").click()},children:"Archivo Permiso"})]}),Object(n.jsxs)("button",{type:"submit",className:"btn btn-outline-primary btn-block",style:{marginTop:"10px",display:"".concat(l?"":"none")},onClick:function(){var e;c((e={idEquipo:t,idEmpresa:a,nombrePermiso:D,fechaCaducidad:new Date(w.fechaCaducidad).getTime(),fechaCreacion:(new Date).getTime(),url:l},function(){var t=Object(b.a)(j.a.mark((function t(a){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:p.collection("permisos").add(e).then((function(e){console.log("Agregado: ",e.id)})).catch((function(e){console.log("Error: ",e)})),a(Y(e));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),Q.a.fire("Permiso Creado con \xc9xito","","success"),c(re()),G(t),c(_())},children:[Object(n.jsx)("i",{className:"far fa-save",style:{cursor:"pointer"}}),Object(n.jsx)("span",{children:" Guardar"})]})]})]})},we=function(){var e=Object(o.b)(),t=g({idEquipo:""}),a=Object(i.a)(t,3),c=a[0],s=a[1],l=a[2],u=c.idEquipo;Object(r.useEffect)((function(){e(G(u))}),[e,u]);var d=Object(r.useState)(!1),j=Object(i.a)(d,2),b=j[0],m=j[1],p=Object(r.useState)([]),O=Object(i.a)(p,2),h=O[0],f=O[1],x=Object(r.useState)([]),E=Object(i.a)(x,2),y=E[0],N=E[1],w=Object(o.c)((function(e){return e.equi})).equipos,T=Object(o.c)((function(e){return e.perm})).permisos,D=Object(o.c)((function(e){return e.user})).idEmpresa,C=function(e){var t=w.filter((function(t){return t.id===e}));f(t);var a=T.filter((function(t){return t.idEquipo===e}));N(a),t.length>0?m(!0):(Q.a.fire("Equipo No Encontrado","","warning"),m(!1),l())};return Object(n.jsxs)("div",{children:[Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),C(u)},children:[Object(n.jsx)("h1",{className:"h3 mb-3 fw-normal",children:"Buscar Eqiupo"}),Object(n.jsx)("hr",{}),Object(n.jsx)("input",{type:"text",id:"idEquipo",name:"idEquipo",className:"form-control",placeholder:"Ingrese patente, ej: AABB11",required:!0,autoFocus:!0,onChange:s,value:u}),Object(n.jsx)("button",{className:"w-100 btn btn-lg btn-primary",style:{marginTop:"10px",marginBottom:"10px"},type:"submit",children:"Buscar"})]}),b?Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Datos del Equipo"}),Object(n.jsx)("div",{className:"datosTrabajador",children:h?Object(n.jsxs)("div",{children:["Nombre: ",h[0].nombre]}):Object(n.jsx)("div",{})}),Object(n.jsx)("div",{children:Object(n.jsxs)("h3",{children:["Documentos"," ",Object(n.jsx)("span",{style:{color:"green",cursor:"pointer"},children:Object(n.jsx)("i",{className:"fas fa-plus-circle",onClick:function(){e(ne())},children:" "})})]})}),Object(n.jsxs)("table",{className:"table",children:[Object(n.jsx)("thead",{children:Object(n.jsxs)("tr",{children:[Object(n.jsx)("th",{scope:"col",children:"Rut Empresa"}),Object(n.jsx)("th",{scope:"col",children:"ID o Patente Equipo"}),Object(n.jsx)("th",{scope:"col",children:"Fecha Caducidad"}),Object(n.jsx)("th",{scope:"col",children:"Nombre Documento"}),Object(n.jsx)("th",{scope:"col",children:"Descargar"})]})}),Object(n.jsx)("tbody",{children:y?y.map((function(e){return Object(n.jsx)(J,Object(v.a)({},e),e.id)})):Object(n.jsx)(n.Fragment,{children:"Loading..."})})]}),Object(n.jsx)(Ne,{idEquipo:u,idEmpresa:D})]}):Object(n.jsx)("div",{})]})},Te=function(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.user})),a=t.isAdmin,c=t.idEmpresa;return Object(r.useEffect)((function(){c&&(e(P()),e(V()),e(de()),e(D(c)),e(xe(c)))}),[e,c]),Object(n.jsx)("div",{children:Object(n.jsxs)(l.a,{children:[Object(n.jsx)(M,{}),Object(n.jsxs)("div",{className:"container-fluid",children:[Object(n.jsx)("div",{className:"row",children:Object(n.jsx)("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",children:Object(n.jsx)("div",{className:"position-sticky pt-3",children:Object(n.jsxs)("ul",{className:"nav flex-column",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(l.b,{className:"nav-link",to:"/",children:[Object(n.jsx)("span",{children:Object(n.jsx)("i",{className:"fas fa-home"})})," ","Escritorio"]})}),a?Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-users"})," ","Usuario"]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(l.b,{className:"nav-link",to:"/admin/newuser",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-user-plus"})," "]}),"Nuevo Usuario"]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(l.b,{className:"nav-link",to:"/admin/edituser",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-user-edit"})," "]}),"Editar Usuario"]})}),Object(n.jsx)("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-laptop-house"})," ","Empresa"]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(l.b,{className:"nav-link",to:"/admin/newempresa",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-plus-circle"})," "]}),"Nueva Empresa"]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(l.b,{className:"nav-link",to:"/admin/editempresa",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-pen"})," "]}),"Editar Empresa"]})}),Object(n.jsx)("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-hard-hat"})," ","Trabajadores"]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(l.b,{className:"nav-link",to:"/admin/createemployee",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-plus-circle"})," "]}),"Nuevo Trabajador"]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(l.b,{className:"nav-link",to:"/admin/editemployee",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-pen"})," "]}),"Editar Trabajador"]})}),Object(n.jsx)("h6",{className:"sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted",children:Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-truck-pickup"})," ","Equipos"]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(l.b,{className:"nav-link",to:"/admin/newequipment",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-plus-circle"})," "]}),"Nuevo Equipo"]})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsxs)(l.b,{className:"nav-link",to:"/admin/editequipment",children:[Object(n.jsxs)("span",{children:[Object(n.jsx)("i",{className:"fas fa-pen"})," "]}),"Editar Equipo"]})})]}):Object(n.jsx)("div",{})]})})})}),Object(n.jsx)("div",{children:Object(n.jsx)("main",{className:"col-md-9 ms-sm-auto col-lg-10 px-md-4",children:Object(n.jsx)("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom",children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(u.b,{exact:!0,component:K,path:"/"}),Object(n.jsx)(u.b,{exact:!0,component:ie,path:"/admin/editemployee"}),Object(n.jsx)(u.b,{exact:!0,component:ue,path:"/admin/createemployee"}),Object(n.jsx)(u.b,{exact:!0,component:me,path:"/admin/newempresa"}),Object(n.jsx)(u.b,{exact:!0,component:he,path:"/admin/editempresa"}),Object(n.jsx)(u.b,{exact:!0,component:me,path:"/admin/newempresa"}),Object(n.jsx)(u.b,{exact:!0,component:ge,path:"/admin/newequipment"}),Object(n.jsx)(u.b,{exact:!0,component:we,path:"/admin/editequipment"})]})})})})]})]})})},De=function(){var e=Object(o.b)(),t=Object(r.useState)(!0),a=Object(i.a)(t,2),c=a[0],s=a[1],d=Object(r.useState)(!1),O=Object(i.a)(d,2),f=O[0],x=O[1];return Object(r.useEffect)((function(){m.a.auth().onAuthStateChanged((function(t){var a;(null===t||void 0===t?void 0:t.uid)?(e(h(t.uid)),e((a=t.uid,function(){var e=Object(b.a)(j.a.mark((function e(t){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=p.collection("usuarios").doc(a),e.next=3,n.get().then((function(e){if(e.exists){var a=Object(v.a)({},e.data());t(F(a))}else console.log("no existe")})).catch((function(e){console.log(e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),x(!0)):x(!1),s(!1)}))}),[e,s,x]),c?Object(n.jsx)("h1",{children:"Cargando..."}):Object(n.jsx)(l.a,{children:Object(n.jsx)("div",{children:Object(n.jsxs)(u.d,{children:[Object(n.jsx)(T,{path:"/auth",component:y,isAuthenticated:f}),Object(n.jsx)(w,{exact:!0,isAuthenticated:f,path:"/",component:Te}),Object(n.jsx)(u.a,{to:"/"})]})})})},Ce=a(43),qe=a(98),ke=a(29),Se={modalOpen:!1},Ie="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Ce.d,Pe=Object(Ce.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.login:return{uid:t.payload.uid};case O.logout:return{};default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.loadUserData:return{nombre:t.payload.nombre,idEmpresa:t.payload.idEmpresa,isAdmin:t.payload.isAdmin,idUsuario:t.payload.idUsuario};case O.userLogout:return{};default:return e}},exam:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.getExamenesPorVencerPorIdEmpresa:return Object(v.a)(Object(v.a)({},e),{},{examenes:Object(ke.a)(t.payload)});case O.getTodoExamenesTrabajadorID:return Object(v.a)(Object(v.a)({},e),{},{examenesIdTrabajador:Object(ke.a)(t.payload)});case O.getExamenesPorVencerTodasLasEmpresas:return Object(v.a)(Object(v.a)({},e),{},{examenes:Object(ke.a)(t.payload)});case O.removeExamenUrl:return Object(v.a)(Object(v.a)({},e),{},{url:null});case O.getExamsIdTrabajador:return Object(v.a)(Object(v.a)({},e),{},{examenes:Object(ke.a)(t.payload)});case O.crearNuevoExamen:return Object(v.a)(Object(v.a)({},e),{},{examen:t.payload});case O.getExamenUrl:return Object(v.a)(Object(v.a)({},e),{},{url:t.payload});case O.examenesLogout:return{};default:return e}},ui:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.uiOpenModal:return Object(v.a)(Object(v.a)({},e),{},{modalOpen:!0});case O.uiCloseModal:return Object(v.a)(Object(v.a)({},e),{},{modalOpen:!1});default:return e}},trab:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.getTrabajadoresIdEmpresa:return Object(v.a)(Object(v.a)({},e),{},{trabajadores:Object(ke.a)(t.payload)});case O.crearTrabajadorEmpresa:return Object(v.a)(Object(v.a)({},e),{},{creado:t.payload});default:return e}},empr:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.getTodasLasEmpresas:return Object(v.a)(Object(v.a)({},e),{},{empresas:t.payload});default:return e}},equi:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.crearEquipoEmpresa:return Object(v.a)(Object(v.a)({},e),{},{equipo:t.payload});case O.getEquiposIdEmpresa:return Object(v.a)(Object(v.a)({},e),{},{equipos:Object(ke.a)(t.payload)});default:return e}},perm:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O.getPermisosPorVencerTodasLasEmpresas:return Object(v.a)(Object(v.a)({},e),{},{permisos:Object(ke.a)(t.payload)});case O.getTodoExamenesPermisosEquipoID:return Object(v.a)(Object(v.a)({},e),{},{permisosIdEquipo:Object(ke.a)(t.payload)});default:return e}}}),Le=Object(Ce.e)(Pe,Ie(Object(Ce.a)(qe.a))),Ae=function(){return Object(n.jsx)(o.a,{store:Le,children:Object(n.jsx)(De,{})})};s.a.render(Object(n.jsx)(Ae,{}),document.getElementById("root"))},90:function(e,t,a){}},[[161,1,2]]]);
//# sourceMappingURL=main.3e9fdca9.chunk.js.map